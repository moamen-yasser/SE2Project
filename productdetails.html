<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TULIP | Flowers & Gifts</title>
    <!-- faviconn -->
    <link rel="shortcut icon" href="images/Tulip.png" type="image/x-icon">
    <!-- bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" 
    integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <!-- fontawsome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" 
    integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" 
    crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- link css -->
    <!-- <script src="js/vendor/modernizr-2.6.2.min.js"></script> -->
    <link rel='stylesheet' type='text/css' media='screen' href='shop.css'>
    <link rel='stylesheet' type='text/css' media='screen' href='cart.css'>

</head>
<body>
    <!-- ----------------------------------------------------- -->
    <header>
        <nav>
        <div class="nav_left">
            <a href="/"><img src="images/Group 2472.png"></a>
        </div>
        <div class="nav_middle">
            <ul>
                <li><a href="index.html">home</a></li>
                <li><a class="home" href="shop.html">shop</a></li>
                <li><a href="customize.html">Customize</a></li>
                <li><a href="contact.html">Contacts</a></li>
            </ul>
        </div>
        <div class="nav_right">
            <ul>
                <li><a href="#" id="open_cart_btn"><i class="fa-solid fa-bag-shopping"></i></a></li>
                <li><a id="userLink"><i class="fa-regular fa-user"></i></a></li>
                <li><div class="burger"><i class="fa-solid fa-bars"></i></div></li>
            </ul>
        </div>
    </nav>
    </header>
    <div class="search-container">
    <input type="text" id="search-input" placeholder="search">
    <i class="fa-solid fa-magnifying-glass"></i>
    <ul id="search-suggestions"></ul>
    </div>

<button onclick="topFunction()" id="myBtn" title="Go to top"><i class="fa-solid fa-arrow-up"></i></button>
<!-- ---------------------------------------------------------------------------------------------------------------------- -->
<!-- backdrop -->
<div class="backdrop"></div>
<!-- side cart -->
<div class="sidecart " id="sidecart">
    <div class="cart_content">
        <!-- cart header -->
        <div class="cart_header">
            <img src="images/cart.svg" style="width: 30px;">
            <div class="header_title">
                <h2>Your Cart</h2>
                <span id="items_num">0</span>
            </div>
            <span id="close_btn" class="close_btn">&times;</span>
        </div>
        <!-- cart items -->
        <div class="cart_items"></div>
        <!-- cart actions -->
        <div class="cart_actions">
            <div class="subtotal">
                <p>SUBTOTAL:</p>
                <P><span ID="subtotal_price">0</span>EGP</P>
            </div>
            <button>View Cart</button>
            <button>Checkout</button>
        </div>
    </div>
</div>
    <h4 id="header">Product Details</h4>

    <section id="product-details">
        <div class="container">
            <div class="row align-items-flex-start">

                <div class="imageee col-lg-7" >
                    <div class="img1">
                        <img src="" id="bigimg">
                    </div>
                    <div class="imagess">
                        <img src=""onclick="displayBigImage(this)" id="s1img" >
                        <img src=""onclick="displayBigImage(this)" id="s2img" >
                        <img src="" onclick="displayBigImage(this)" id="s3img" >
                        <img src=""onclick="displayBigImage(this)" id="s4img" >
                    </div>
                </div>

                <div class="content col-lg-5">

                    <div class="div1 vis ">
                        <div class="row">
                        <div class="pinklove col-lg-6">
                            <div class="line">
                                <h6 id="name"></h6>
                                <i  class="fa-regular fa-heart"onclick="red(this)"></i>
                            </div>
                            <p id="dess"></p>
                            <h3 id="price"></h3>
                        </div>
                        <div class="pinklovebtn col-lg-6">
                            <button id="btttn">Add to cart <i id="ii" class="fa-solid fa-bag-shopping"></i> </button>
                        </div>
                    </div>

                    </div>

                    <div class="div2 static vis">
                        <h2>Product Information</h2>
                        <p id="info"></p>
                    </div>

                    <div class="div3 static vis">
                        <h2>Care & Drying</h2>
                        <p>Dried flowers are really very easy to take care of, there’s only a few tips that 
will help you keep them looking beautiful for years to come! They are fragile 
and they will change over time. Being a natural product they won’tjust 
perfectly suspend in time indefinitely but they will last for years if you look 
after them well. And their changing appearance just adds to their charm, 
think! Whether you’re having dried wedding flowers or simply some stems in 
a vase to enjoy at home, follow these tips to prolong the life of your dried.</p>
                    </div>

                    <div class="div4 static vis">
                        <h2>Delivery/ Return</h2>
                        <p>All issues must be indicated to us within 24 hours of delivery — if you are 
calling after hours, please leave a message with a time to reach you and 
phone number and we will call the next business day.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ------------------------------------------------------------ -->
    <!-- footer -->

    <footer>
        <div class="container">
            <div class="row">
                <div class="list">
            <div class="block ">
                <ul>
                    <li>Connect with us</li>
                    <li class="icoo"><a  href="#"><i class="fa-solid fa-phone"></i>  0123456789</a></li>
                    <li class="icoo"><a href="#"><i class="fa-regular fa-envelope"></i>  info@tulip.com</a></li>
                    <li>
                        <a href="#"><img src="images/Vector.png"></a>
                        <a href="#"><img src="images/Instagram.png"></a>
                        <a href="#"><img src="images/Vector (1).png"></a>
                        <a href="#"><img src="images/Tiktok.png"></a>
                    </li>
                </ul>
            </div>
            <div class="block ">
                <ul>
                    <li>About</li>
                    <li><a href="index.html">Home </a></li>
                    <li><a href="#">About us  </a></li>
                    <li><a href="contact.html">Connect us</a></li>
                    <li><a href="#">Terms & Conditions </a></li>
                </ul>
            </div>
            <div class="block ">
                <ul>
                    <li>Site map </li>
                    <li><a href="#sec31">Best seller </a></li>
                    <li><a href="#sec32">New arrival</a></li>
                    <li><a href="customize.html">customize bouquet</a></li>
                    <li><a href="customize.html">categories</a></li>
                </ul>
            </div>
            <div class="block  ">
                <ul>
                    <li> My Account </li>
                    <li><a href="login.html">Login </a></li>
                    <li><a href="profile.html">My profile</a></li>
                    <li><a href="market.html">Basket</a></li>
                    <li><a href="market.html">My orders </a></li>
                </ul>
            </div>
        </div>
            <div class="image" >
                <h3>Newsletter</h3>
                <p>Sign up for exclusive offers, new collection,
latest new and more.</p>
                    <form action="#">
                        <input type="email" placeholder="Enter your email" required>
                        <button type="submit"><img src="images/Group 2547.png"></button>
                    </form>
            </div>
        </div>
        </div>
    </footer>

<script>
// Get the product id from the URL
const urlParams = new URLSearchParams(window.location.search);
const productId = urlParams.get('id');

if (productId) {
    // Fetch product data from the JSON file
    fetch('shop.json')  // Assuming 'shop.json' is in the same directory
    .then(response => {
        if (!response.ok) {
            throw new Error('Failed to load the JSON file');
        }
        return response.json();
    })
    .then(items => {
        // Find the product matching the id from the URL
        const product = items.find(item => item.id == productId);

        if (product) {
            // Display the product details on the page
            document.getElementById('bigimg').src = product.bigimgurl;  // Main image
            document.getElementById('s1img').src = product.s1url;  // Image 1 for thumbnails
            document.getElementById('s2img').src = product.s2url;  // Image 2 for thumbnails
            document.getElementById('s3img').src = product.s3url;  // Image 3 for thumbnails
            document.getElementById('s4img').src = product.s4url;  // Image 4 for thumbnails

            // Set product name, description,  price and information
            document.getElementById('name').textContent = product.name;
            document.getElementById('dess').textContent = product.des;
            document.getElementById('price').textContent = product.price;
            document.getElementById('info').textContent = product.information;

            // Update the Add to Cart button to handle the product
            document.getElementById('btttn').addEventListener('click', (event) => handleAddToCart(event, product));

            // Add event listeners to the thumbnails to update the big image
            document.querySelectorAll('.imagess img').forEach((thumb, index) => {
                thumb.addEventListener('click', function () {
                    document.getElementById('bigimg').src = product[`s${index+1}url`];  // Update the big image based on the thumbnail clicked
                });
            });
        } else {
            // If the product is not found
            document.getElementById('product-details').innerHTML = '<p>Product not found.</p>';
        }
    })
    .catch(error => {
        console.error("Error fetching product data:", error);
    });
} else {
    // If the product id is missing from the URL
    console.log("Product ID is missing in the URL");
}
</script>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script>window.jQuery || document.write('<script src="js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
    <script src="cart.js"></script>
    <script src="main.js"></script>
    <script src="shop.js"></script>
</body>
</html>